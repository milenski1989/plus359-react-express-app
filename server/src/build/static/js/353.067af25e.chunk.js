"use strict";(self.webpackChunkplus359gallery_frontend_react=self.webpackChunkplus359gallery_frontend_react||[]).push([[353],{8353:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var s=a(2791),n=a(3151),r=a(9684),o=a(3896),i=a(697),l=a(184);function c(e){let{labels:t,components:a}=e;const[n,c]=s.useState(0);return(0,l.jsxs)(i.Z,{sx:{width:"100%"},children:[(0,l.jsx)(i.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,l.jsx)(r.Z,{value:n,"aria-label":"basic tabs example",children:t.map(((e,t)=>(0,l.jsx)(o.Z,{label:e,onClick:()=>c(t)},e)))})}),(0,l.jsx)(i.Z,{sx:{p:3},children:a.map(((e,t)=>(0,l.jsx)("div",{children:n===t&&(0,l.jsx)(e,{})},t)))})]})}var d=a(2622),m=a(6265),p=a(3239),u=a(2680),h=a(4294),x=a(4569),g=a.n(x);const j=function(){const[e,t]=(0,s.useState)(""),[a,n]=(0,s.useState)(""),[r,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[x,j]=(0,s.useState)(!1),[y,w]=(0,s.useState)({error:!1,message:""});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{open:y.error,handleClose:()=>w({error:!1,message:""}),message:y.message,severity:"error"}),x?(0,l.jsx)(p.Z,{variant:"determinate",className:"loader",color:"primary"}):(0,l.jsxs)(i.Z,{component:"section",sx:{display:"flex",flexDirection:"column",margin:"3rem auto",marginTop:"4rem",width:"60vw"},children:[(0,l.jsx)(u.Z,{label:"Email",placeholder:"example@email.com",value:e,onChange:e=>t(e.target.value),sx:{marginBottom:"1rem",width:"60vw"}}),(0,l.jsx)(u.Z,{label:"User Name",value:c,onChange:e=>d(e.target.value),sx:{marginBottom:"1rem",width:"60vw"}}),(0,l.jsx)(u.Z,{label:"Password",value:a,onChange:e=>n(e.target.value),sx:{marginBottom:"1rem",width:"60vw"}}),(0,l.jsx)(u.Z,{label:"Confirm Password",onChange:e=>{e.target.value===a?o(!0):o(!1)},sx:{marginBottom:"1rem",width:"60vw"},className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500   invalid:border-pink-500 invalid:text-pink-600\r focus:invalid:border-pink-500 focus:invalid:ring-pink-500 sm:text-sm sm:leading-6"}),!r&&a&&(0,l.jsx)("p",{className:"text-red-400",children:"Passwords do not match"}),(0,l.jsx)(h.Z,{onClick:s=>{s.preventDefault(),j(!0),(async()=>{j(!0);const s={email:e,password:a,userName:c};try{await g().post("artworks-management-app.vercel.app/auth/signup",s,{headers:{"Content-Type":"application/json"}})}catch(r){w({error:!0,message:r.response.data.message})}j(!1),t(""),d(""),n(""),o(!1)})()},disabled:!e||!a||!r,sx:{mt:2},type:"submit",variant:"contained",children:"Create"})]})]})};var y=a(3706),w=a(9174),f=a(2993),v=a(2271),b=a(6378),Z=a(8946),k=a(1472),C=a(7940),S=a(1754);const N=function(){const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)({error:!1,message:""}),[r,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)([]),[x,j]=(0,s.useState)(!1),N=(0,k.TA)((()=>{j&&j((e=>!e))}),{onStart:e=>{e.preventDefault()}}),B=JSON.parse(localStorage.getItem("user")),E=(0,y.Z)("only screen and (max-width : 768px)");(0,s.useEffect)((()=>{F()}),[]),console.log(u);const F=async()=>{d(!0);try{const e=await fetch("artworks-management-app.vercel.app/auth/all"),a=await e.json();t(a.data.filter((e=>e.id!==B.id))),d(!1)}catch(a){d(!1),n({error:!0,message:a.response.data})}};return console.log(u),(0,l.jsxs)(l.Fragment,{children:[c&&(0,l.jsx)(p.Z,{className:"loader",color:"primary"}),(0,l.jsxs)("div",{className:"delete-users-buttons",children:[e.length&&x?(0,l.jsx)("img",{onClick:()=>{e.length===u.length?h([]):h([...u,...e.filter((e=>!u.some((t=>t.id===e.id))))])},src:u.length?S.Z:C.Z,className:"icon"}):(0,l.jsx)(l.Fragment,{}),u.length?(0,l.jsx)(v.Z,{className:"icon",style:{cursor:"pointer",height:"34px",width:"34px"},onClick:()=>{o(!0)}}):(0,l.jsx)(l.Fragment,{})]}),(0,l.jsx)(m.Z,{open:a.error,handleClose:()=>n({error:!1,message:""}),message:a.message,severity:"error"}),r&&(0,l.jsx)(f.Z,{openModal:r,setOpenModal:()=>o(!0),title:"Are you sure you want to delete this user?",handleClickYes:async()=>await(async e=>{const t=e.map((e=>e.email));d(!0);try{await g().delete("artworks-management-app.vercel.app/auth/deleteUsers",{params:{emails:t}}),o(!1),F()}catch(a){n({error:!0,message:a.response.data.message}),d(!1)}})(u),handleClickNo:()=>{h([]),o(!1)},confirmButtonText:"Yes",cancelButtonText:"Cancel",style:{padding:"0"}}),(0,l.jsx)(i.Z,{component:"section",className:E?"mobile-locations-container":"locations-container",children:e.map((t=>(0,s.createElement)("div",{...N(),className:E?"mobile-location-item":"location-item",key:t.id,style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"25px",position:"relative"}},(0,l.jsx)("div",{style:{marginLeft:"1rem"},children:t.email}),x&&(0,l.jsx)(w.Z,{onChange:()=>{return a=t.id,void(u.some((e=>e.id===a))?h(u.filter((e=>e.id!==a))):h([...u,e.find((e=>e.id===a))]));var a},checked:u.some((e=>e.id===t.id)),sx:{position:"absolute",top:"50%",left:"10%",transform:"translate(-50%, -50%)",color:"white","&.Mui-checked":{color:"white"}},icon:(0,l.jsx)(b.Z,{}),checkedIcon:(0,l.jsx)(Z.Z,{})}))))})]})};const B=function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c,{labels:["Add A New User","Delete Users"],components:[j,N]})})};const E=function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.Z,{}),(0,l.jsx)(c,{labels:["Storages","Users"],components:[d.default,B]})]})}},2622:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(2791),n=(a(9561),a(3239)),r=a(697),o=a(2680),i=a(3706),l=a(2419),c=a(4569),d=a.n(c),m=a(9823),p=a(4789),u=a(6265),h=a(2271),x=a(2993),g=a(184);const j=()=>{const[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(),[j,y]=(0,s.useState)(),[w,f]=(0,s.useState)(!1),[v,b]=(0,s.useState)({error:!1,message:""}),[Z,k]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),N=(0,i.Z)("only screen and (max-width : 768px)");(0,s.useEffect)((()=>{B()}),[]);const B=async()=>{try{const e=await fetch("artworks-management-app.vercel.app/storage/storagesWithNoEntries"),a=await e.json();t(a)}catch(v){throw new Error(v)}};return(0,g.jsxs)(g.Fragment,{children:[C&&(0,g.jsx)(n.Z,{className:"loader",color:"primary"}),(0,g.jsx)(u.Z,{open:v.error,handleClose:()=>b({error:!1,message:""}),message:v.message,severity:"error"}),Z&&(0,g.jsx)(x.Z,{openModal:Z,setOpenModal:()=>k(!0),title:"Are you sure you want to delete this empty storage and all related cells and positions ?",handleClickYes:async()=>{await(async e=>{S(!0);try{await d().delete("artworks-management-app.vercel.app/storage/deleteOne",{params:{name:e}})}catch(v){throw new Error(v)}finally{S(!1)}})(a),B(),k(!1)},handleClickNo:()=>{c(),k(!1)},confirmButtonText:"Yes",cancelButtonText:"Cancel",style:{padding:"0"}}),(0,g.jsxs)(r.Z,{component:"section",className:N?"mobile-locations-container":"locations-container",children:[w?(0,g.jsxs)("div",{className:N?"mobile-textfield-icon-container":"textfield-icon-container",children:[(0,g.jsx)(o.Z,{sx:N?{"& .MuiOutlinedInput-root":{borderRadius:"37px",width:"242px",height:"47px"}}:{"& .MuiOutlinedInput-root":{borderRadius:"37px",width:"242px",height:"47px"},"&.MuiFormControl-root":{marginBottom:"-1rem"}},placeholder:"Enter name...",onChange:e=>(e=>{y(e.target.value)})(e)}),(0,g.jsxs)("div",{style:N?{position:"absolute",right:"15px",top:"50%",transform:"translateY(-50%)"}:{position:"absolute",right:"15px",top:"30%"},className:N?"mobile-icons-container":"icons-container",children:[(0,g.jsx)("img",{src:p.Z,style:{cursor:"pointer",marginRight:"0.5rem"},onClick:async()=>{j&&(await(async e=>{try{await d().post("artworks-management-app.vercel.app/storage/saveOne",{name:e},{headers:{"Content-Type":"application/json"}})}catch(v){b({error:!0,message:v.response.data})}})(j),f(!1),B())}}),(0,g.jsx)(m.Z,{sx:{fontSize:"30px",cursor:"pointer"},onClick:()=>{y(),f(!1)}})]})]}):(0,g.jsx)("div",{onClick:()=>{f(!0)},className:N?"mobile-location-item add-new-storage":"location-item add-new-storage",children:(0,g.jsx)(l.Z,{})}),e.map((e=>(0,g.jsxs)("div",{className:N?"mobile-location-item":"location-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"25px"},children:[(0,g.jsx)("div",{children:e.name}),(0,g.jsx)(h.Z,{className:"icon",style:{cursor:"pointer"},onClick:()=>{c(e.name),k(!0)}})]},e.id)))]})]})}},9561:()=>{}}]);
//# sourceMappingURL=353.067af25e.chunk.js.map