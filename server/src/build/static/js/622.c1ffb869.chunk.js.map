{"version":3,"file":"static/js/622.c1ffb869.chunk.js","mappings":"kUAaA,MAmJA,EAnJ2B,KAEvB,MAAOA,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAiBC,IAAsBF,EAAAA,EAAAA,aACvCG,EAAgBC,IAAqBJ,EAAAA,EAAAA,aACrCK,EAAWC,IAAgBN,EAAAA,EAAAA,WAAS,IACpCO,EAAOC,IAAYR,EAAAA,EAAAA,UAAS,CAAEO,OAAO,EAAOE,QAAS,MACrDC,EAAcC,IAAmBX,EAAAA,EAAAA,WAAS,IAC1CY,EAAWC,IAAgBb,EAAAA,EAAAA,WAAS,GAErCc,GAAgBC,EAAAA,EAAAA,GAAc,wCAEpCC,EAAAA,EAAAA,YAAU,KACNC,MACF,IAEF,MAAMA,EAA2BC,UAC7B,IACI,MAAMC,QAAYC,MAAM,4EAClBC,QAAaF,EAAIG,OACvBvB,EAAYsB,GACd,MAAOd,GACL,MAAM,IAAIgB,MAAMhB,KAoDxB,OAAO,gCACFK,IAAa,SAAC,IAAD,CAAkBY,UAAU,SAASC,MAAM,aACzD,SAAC,IAAD,CACIC,KAAMnB,EAAMA,MACZoB,YAAa,IAAMnB,EAAS,CAAED,OAAO,EAAOE,QAAS,KACrDA,QAASF,EAAME,QACfmB,SAAS,UAEZlB,IACO,SAAC,IAAD,CACImB,UAAWnB,EACXoB,aAAc,IAAMnB,GAAgB,GACpCoB,MAAM,2FACNC,eAAgBd,eAjDVA,OAAAA,IAClBL,GAAa,GACb,UACUoB,IAAAA,OAAA,+DAA6E,CAACC,OAAQ,CAACC,KAAAA,KAC/F,MAAO5B,GACL,MAAM,IAAIgB,MAAMhB,GAHpB,QAKIM,GAAa,KA2CKuB,CAAcnC,GACpBgB,IACAN,GAAgB,IAGpB0B,cAAe,KAAOnC,IAAsBS,GAAgB,IAC5D2B,kBAAkB,MAClBC,iBAAiB,SACjBC,MAAO,CAACC,QAAS,QAG7B,UAAC,IAAD,CACIC,UAAU,UACVlB,UAAWV,EACP,6BACA,sBAJR,UAMKT,GACG,iBAAKmB,UAAWV,EAAgB,kCAAoC,2BAApE,WACI,SAAC,IAAD,CAAW6B,GAAI7B,EACX,CACI,2BAA2B,CACvB8B,aAAc,OAAQC,MAAO,QAASC,OAAQ,SAEtD,CACI,2BAA2B,CACvBF,aAAc,OAAQC,MAAO,QAASC,OAAQ,QAC/C,wBAAyB,CACxBC,aAAc,UAExBC,YAAY,gBAAgBC,SAAWC,GAhEnCA,CAAAA,IAClB9C,EAAkB8C,EAAEC,OAAOC,QA+DgCC,CAAaH,MAC5D,iBAAKV,MAAO1B,EAAgB,CAACwC,SAAU,WAAYC,MAAO,OAAQC,IAAK,MAAOC,UAAW,oBAAqB,CAACH,SAAU,WAAYC,MAAO,OAAQC,IAAK,OAAQhC,UAAWV,EAAgB,yBAA0B,kBAAtN,WACI,gBAAK4C,IAAKC,EAAAA,EAAUnB,MAAO,CAACoB,OAAQ,UAAWC,YAAa,UAAWC,QA9D9D5C,UACpBf,SAjCce,OAAAA,IACnB,UACUe,IAAAA,KAAW,6DAA8D,CAACE,KAAAA,GAAO,CACnF4B,QAAS,CACL,eAAgB,sBAG1B,MAAOxD,GACLC,EAAS,CAAED,OAAO,EAAME,QAASF,EAAMyD,SAAS3C,SA0B9C4C,CAAe9D,GACrBG,GAAa,GACbW,SA2DgB,SAAC,IAAD,CAAW0B,GAAI,CAACuB,SAAU,OAAQN,OAAQ,WAAYE,QAxDrD,KACjB1D,IACAE,GAAa,aA0DL,gBACIwD,QA5EiB,KAC7BxD,GAAa,IA4EDkB,UAAWV,EAAgB,uCAAyC,gCAFxE,UAEyG,SAAC,IAAD,MAE5GhB,EAASqE,KAAIC,IACV,iBACI5C,UAAWV,EAAgB,uBAAyB,gBAEpD0B,MAAO,CAAE6B,QAAS,OAAQC,WAAY,SAAUC,eAAgB,gBAAiBC,YAAa,QAHlG,WAII,yBACKJ,EAAQjC,QAEb,SAAC,IAAD,CACIX,UAAU,OACVgB,MAAO,CAAEoB,OAAQ,WACjBE,QAAS,KAAO5D,EAAmBkE,EAAQjC,MArE3DxB,GAAgB,QA6DCyD,EAAQK,c,mBC/I7BC,EAAyBC,EAAQ,MAKrCC,EAAQ,OAAU,EAElB,IAAIC,EAAiBH,EAAuBC,EAAQ,OAEhDG,EAAcH,EAAQ,KAEtBI,GAAW,EAAIF,EAAeG,UAAuB,EAAIF,EAAYG,KAAK,OAAQ,CACpFC,EAAG,wCACD,OAEJN,EAAQ,EAAUG,G,mBCfdL,EAAyBC,EAAQ,MAKrCC,EAAQ,OAAU,EAElB,IAAIC,EAAiBH,EAAuBC,EAAQ,OAEhDG,EAAcH,EAAQ,KAEtBI,GAAW,EAAIF,EAAeG,UAAuB,EAAIF,EAAYG,KAAK,OAAQ,CACpFC,EAAG,2FACD,iBAEJN,EAAQ,EAAUG,G","sources":["components/StoragesManagement.js","../node_modules/@mui/icons-material/Add.js","../node_modules/@mui/icons-material/DeleteOutline.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './LocationsContainer.css'\r\nimport { Box, CircularProgress, TextField } from '@mui/material';\r\nimport { useMediaQuery } from \"@mui/material\";\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport axios from 'axios';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport SaveIcon from '../components/assets/save-solid.svg'\r\nimport Message from './Message';\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\nimport CustomDialog from './CustomDialog';\r\n\r\n\r\nconst StoragesManagement = () => {\r\n\r\n    const [storages, setStorages] = useState([])\r\n    const [selectedStorage, setSelectedStorage] = useState()\r\n    const [newStorageName, setNewStorageName] = useState()\r\n    const [showInput, setShowInput] = useState(false)\r\n    const [error, setError] = useState({ error: false, message: \"\" })\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n\r\n    const isSmallDevice = useMediaQuery(\"only screen and (max-width : 768px)\");\r\n\r\n    useEffect(() => {\r\n        getStoragesWithNoEntries()\r\n    },[])\r\n\r\n    const getStoragesWithNoEntries = async () => {\r\n        try {\r\n            const res = await fetch(`artworks-management-app.vercel.app/storage/storagesWithNoEntries`)\r\n            const data = await res.json()\r\n            setStorages(data);\r\n        } catch (error) {\r\n            throw new Error(error)\r\n        }\r\n    }\r\n\r\n    const saveNewStorage = async (name) => {\r\n        try {\r\n            await axios.post(\"artworks-management-app.vercel.app/storage/saveOne\", {name}, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            });\r\n        } catch (error) {\r\n            setError({ error: true, message: error.response.data })\r\n        }\r\n    }\r\n\r\n    const deleteStorage = async (name) => {\r\n        setIsLoading(true)\r\n        try {\r\n            await axios.delete(`artworks-management-app.vercel.app/storage/deleteOne`, {params: {name}});\r\n        } catch (error) {\r\n            throw new Error(error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n        \r\n    }\r\n\r\n    const handleClickAddNewStorage = () => {\r\n        setShowInput(true)\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        setNewStorageName(e.target.value)\r\n    }\r\n\r\n    const handleSaveNewStorage = async () => {\r\n        if (!newStorageName) return\r\n        await saveNewStorage(newStorageName)\r\n        setShowInput(false)\r\n        getStoragesWithNoEntries()\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setNewStorageName()\r\n        setShowInput(false)\r\n    }\r\n\r\n    const handleDeleteStorage = () => {\r\n        setIsDialogOpen(true)\r\n    }\r\n  \r\n    return <>\r\n        {isLoading && <CircularProgress className=\"loader\" color=\"primary\" />}\r\n        <Message\r\n            open={error.error}\r\n            handleClose={() => setError({ error: false, message: \"\" })}\r\n            message={error.message}\r\n            severity=\"error\" />\r\n\r\n        {isDialogOpen &&\r\n                <CustomDialog\r\n                    openModal={isDialogOpen}\r\n                    setOpenModal={() => setIsDialogOpen(true)}\r\n                    title=\"Are you sure you want to delete this empty storage and all related cells and positions ?\"\r\n                    handleClickYes={async () => {\r\n                        await deleteStorage(selectedStorage)\r\n                        getStoragesWithNoEntries()\r\n                        setIsDialogOpen(false)\r\n                        \r\n                    }}\r\n                    handleClickNo={() => {setSelectedStorage(); setIsDialogOpen(false)}} \r\n                    confirmButtonText=\"Yes\"\r\n                    cancelButtonText=\"Cancel\"\r\n                    style={{padding: '0'}}\r\n                />}\r\n\r\n        <Box  \r\n            component=\"section\"\r\n            className={isSmallDevice ?\r\n                'mobile-locations-container' :\r\n                'locations-container'\r\n            }>\r\n            {showInput ?\r\n                <div className={isSmallDevice ? 'mobile-textfield-icon-container' : 'textfield-icon-container'}>\r\n                    <TextField sx={isSmallDevice ?\r\n                        {\r\n                            '& .MuiOutlinedInput-root':{\r\n                                borderRadius: '37px', width: '242px', height: '47px'\r\n                            }} :\r\n                        {\r\n                            '& .MuiOutlinedInput-root':{\r\n                                borderRadius: '37px', width: '242px', height: '47px'\r\n                            }, '&.MuiFormControl-root': {\r\n                                marginBottom: '-1rem'\r\n                            }}\r\n                    } placeholder='Enter name...' onChange={(e) => handleChange(e)} />\r\n                    <div style={isSmallDevice ? {position: 'absolute', right: '15px', top: '50%', transform: 'translateY(-50%)'} :{position: 'absolute', right: '15px', top: '30%'}} className={isSmallDevice ? 'mobile-icons-container': 'icons-container'}>\r\n                        <img src={SaveIcon} style={{cursor: 'pointer', marginRight: '0.5rem'}} onClick={handleSaveNewStorage}/>\r\n                        <CloseIcon sx={{fontSize: \"30px\", cursor: 'pointer'}} onClick={handleCancel}/>\r\n                    </div>\r\n                </div>\r\n                :\r\n                <div \r\n                    onClick={handleClickAddNewStorage}\r\n                    className={isSmallDevice ? 'mobile-location-item add-new-storage' : 'location-item add-new-storage'}><AddIcon/></div>\r\n            }\r\n            {storages.map(storage => (\r\n                <div \r\n                    className={isSmallDevice ? 'mobile-location-item' : 'location-item'} \r\n                    key={storage.id} \r\n                    style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', paddingLeft: '25px'}}>\r\n                    <div>\r\n                        {storage.name}\r\n                    </div>\r\n                    <DeleteOutlineIcon \r\n                        className='icon'\r\n                        style={{ cursor: 'pointer' }}\r\n                        onClick={() => {setSelectedStorage(storage.name);handleDeleteStorage()}}\r\n                    />\r\n                </div>\r\n            ))}\r\n        </Box></>  \r\n}\r\n\r\nexport default StoragesManagement","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');\n\nexports.default = _default;"],"names":["storages","setStorages","useState","selectedStorage","setSelectedStorage","newStorageName","setNewStorageName","showInput","setShowInput","error","setError","message","isDialogOpen","setIsDialogOpen","isLoading","setIsLoading","isSmallDevice","useMediaQuery","useEffect","getStoragesWithNoEntries","async","res","fetch","data","json","Error","className","color","open","handleClose","severity","openModal","setOpenModal","title","handleClickYes","axios","params","name","deleteStorage","handleClickNo","confirmButtonText","cancelButtonText","style","padding","component","sx","borderRadius","width","height","marginBottom","placeholder","onChange","e","target","value","handleChange","position","right","top","transform","src","SaveIcon","cursor","marginRight","onClick","headers","response","saveNewStorage","fontSize","map","storage","display","alignItems","justifyContent","paddingLeft","id","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}